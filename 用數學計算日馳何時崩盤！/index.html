<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="google-site-verification" content="nMMBwIrTgNyqMzODCbItqRSGcU7H1_zjvtkKhiIBo24">
    <meta http-equiv="Cache-control" content="public">
    <meta http-equiv="Cache-Control" content="max-age=604800">
    
    <title>用數學計算日馳何時崩盤！ | FinLab 量化實驗室</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="python,程式交易">
    <script type="application/ld+json">
        {
            "@context": "http://schema.org/",
            "@type": "Article",
            "author": "韓承佑",
            "datePublished": "Wed Jan 10 2018 16:18:47 GMT+0800",
            "headline": "用數學計算日馳何時崩盤！",
            "image": "https://www.finlab.tw/用數學計算日馳何時崩盤！/thumbnail.png",
            "mainEntityOfPage":"https://www.finlab.tw",
            "publisher": {
                "@type": "Organization",
              "url": "www.finlab.tw",
              "logo": {
                "@type": "ImageObject",
                "url": "https://www.finlab.tw/images/logo_img.png"
              },
              "name": "finlab"
            },
            "dateModified":"Wed Jan 10 2018 16:18:47 GMT+0800"
          }
    </script>
    
    <meta name="description" content="目前我持有日馳的股票，前段時間噴高高，但最近不停漲停！跌停！搞的我心力交瘁。於是今天決定用一個數學模型來預測可能的崩盤時機。LPPL是我之前在ricequant看到的泡沫預測模型，對於那些極右側交易者（追漲）滿有幫助的，然而這個模型只考慮股價，不考慮財報、月報等，所以比較適合用在大盤，個股可能比較沒辦法。但我還是很想知道日馳是否要崩盤了！？XD   預防針這邊還是要提醒大家，這個只是個有趣的小實驗">
<meta name="keywords" content="python,程式交易">
<meta property="og:type" content="article">
<meta property="og:title" content="用數學計算日馳何時崩盤！">
<meta property="og:url" content="https://www.finlab.tw/用數學計算日馳何時崩盤！/index.html">
<meta property="og:site_name" content="FinLab 量化實驗室">
<meta property="og:description" content="目前我持有日馳的股票，前段時間噴高高，但最近不停漲停！跌停！搞的我心力交瘁。於是今天決定用一個數學模型來預測可能的崩盤時機。LPPL是我之前在ricequant看到的泡沫預測模型，對於那些極右側交易者（追漲）滿有幫助的，然而這個模型只考慮股價，不考慮財報、月報等，所以比較適合用在大盤，個股可能比較沒辦法。但我還是很想知道日馳是否要崩盤了！？XD   預防針這邊還是要提醒大家，這個只是個有趣的小實驗">
<meta property="og:locale" content="zh-TW">
<meta property="og:image" content="https://www.finlab.tw/用數學計算日馳何時崩盤！/thumbnail.png">
<meta property="og:updated_time" content="2018-11-29T17:08:29.086Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="用數學計算日馳何時崩盤！">
<meta name="twitter:description" content="目前我持有日馳的股票，前段時間噴高高，但最近不停漲停！跌停！搞的我心力交瘁。於是今天決定用一個數學模型來預測可能的崩盤時機。LPPL是我之前在ricequant看到的泡沫預測模型，對於那些極右側交易者（追漲）滿有幫助的，然而這個模型只考慮股價，不考慮財報、月報等，所以比較適合用在大盤，個股可能比較沒辦法。但我還是很想知道日馳是否要崩盤了！？XD   預防針這邊還是要提醒大家，這個只是個有趣的小實驗">
<meta name="twitter:image" content="https://www.finlab.tw/用數學計算日馳何時崩盤！/thumbnail.png">
    
    
    
        <link rel="alternate" href="/atom.xml" title="FinLab 量化實驗室" type="application/atom+xml">
    

    
        <link rel="icon" href="/css/images/favicon.png">
    

    <link rel="canonical" href="https://www.finlab.tw/用數學計算日馳何時崩盤！/index.html">

    <!--defer-->
    <!--<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--<link rel="stylesheet" href="/libs/titillium-web/styles.css">-->
    <style>
        /* latin-ext */
        @font-face {
        font-family: 'Source Code Pro';
        font-style: normal;
        font-weight: 400;
        src: local('Source Code Pro'), local('SourceCodePro-Regular'), url(fonts/mrl8jkM18OlOQN8JLgasDy2Q8seG17bfDXYR_jUsrzg.woff2) format('woff2');
        unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
        }
        /* latin */
        @font-face {
        font-family: 'Source Code Pro';
        font-style: normal;
        font-weight: 400;
        src: local('Source Code Pro'), local('SourceCodePro-Regular'), url(fonts/mrl8jkM18OlOQN8JLgasD9V_2ngZ8dMf8fLgjYEouxg.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }
        .gutter pre {
            background: #222;
        }
        .code pre {
            background: #222;
            color: #eee
        }
                    .category-link {
                        background: #F97352;
                        color: white;
                        padding: 5px;
                        font-size: 1em;
                    }
        a {
            color: #054A91;
        }
    </style>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Righteous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.23/css/uikit.min.css">

    <link rel="stylesheet" href="/css/style.css">
    <!--enddefer-->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!--
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-106968614-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-106968614-1');
    </script>
    --><!-- hexo-inject:begin --><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css'><!-- hexo-inject:end -->
</head>

</html>
<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="wrap" style="background:#ddd">
        
<header id="header" class="uk-background-muted" style="background:transparent;height:100%">
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = 'https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v2.12&appId=1987856528129472&autoLogAppEvents=1';
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <div class="container">
            <nav class="container-inner uk-navbar-container uk-light" style="background: #08B2E3" uk-navbar="">
                <div class="uk-navbar-left" style="padding: 0 15px">
                    <a class="uk-navbar-item" style="font-family: 'Righteous', cursive;" href="/">
                        <img src="/css/images/logoWhite.png" style="height:40px" alt="logo">
                    </a>
                        <a class="uk-logo" style="font-family: 'Righteous', cursive;" href="/">
                            <h1>finlab 部落格</h1>
                        </a>
                            <ul class="uk-navbar-nav">
                                <li><a href="https://ai.finlab.tw/stock/1101" rel="external nofollow noopener noreferrer" target="_blank"><button class="uk-button uk-button-default uk-button-small" style="border-radius:5px">智慧診股</button></a></li>
                                <li><a href="https://ai.finlab.tw/strategies" rel="external nofollow noopener noreferrer" target="_blank"><button class="uk-button uk-button-default uk-button-small" style="border-radius:5px">選股機器人</button></a></li>
                                <li><a href="https://ai.finlab.tw/mylab" rel="external nofollow noopener noreferrer" target="_blank"><button class="uk-button uk-button-default uk-button-small" style="border-radius:5px">我的實驗室</button></a></li>
                            </ul>
                </div>
                </nav>
    </div>


    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <!--<div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo" title="FinLab" ></a>
                    </h1>
                    
                        
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">回測與選股教學部落格</p>
                        </h2>
                    
                </div>-->
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/categories/財經Python教學/">Python財經</a>
                                </li>
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/股票入門懶人包/">股票入門</a>
                                </li>
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/categories/AI看股票/">AI看選股</a>
                                </li>
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/categories/選股策略/">股票策略</a>
                                </li>
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/categories/指標分析/">指標分析</a>
                                </li>
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/關於/">關於FinLab</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜尋">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="輸入關鍵字(股票,量化...)">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '頁面',
            CATEGORIES: '分類',
            TAGS: '標籤',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js" defer></script>

<style>
::-webkit-input-placeholder { /* Chrome */
  color: white;
}
:-ms-input-placeholder { /* IE 10+ */
  color: white;
}
::-moz-placeholder { /* Firefox 19+ */
  color: white;
  opacity: 1;
}
:-moz-placeholder { /* Firefox 4 - 18 */
  color: white;
  opacity: 1;
}
</style>
</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner" style="background:#f5f5f5">
                    <section id="main" style="background:#fff">
                        <div class="main-body-header">
    
    <h2 class="header">
    
    <a class="page-title-link" href="/categories/財經Python教學/">財經Python教學</a>
    </h2>
</div>
                        <div class="main-body-content">
                            <article id="post-用數學計算日馳何時崩盤！" class="article article-single article-type-post" itemscope="" itemprop="blogPost">

    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        用數學計算日馳何時崩盤！
        </h1>
    

            </header>
        

        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/用數學計算日馳何時崩盤！/" class="article-date">
            <time datetime="2018-01-10T08:18:47.000Z" itemprop="datePublished">2018-01-10</time>
        </a>
    </div>

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/python/">python</a>, <a class="tag-link" href="/tags/程式交易/">程式交易</a>
    </div>

            </div>
        
        


    


        
        <div class="article-entry" itemprop="articleBody">
            <p>目前我持有日馳的股票，前段時間噴高高，但最近不停漲停！跌停！搞的我心力交瘁。於是今天決定用一個數學模型來預測可能的崩盤時機。<br>LPPL是我之前在ricequant看到的泡沫預測模型，對於那些極右側交易者（追漲）滿有幫助的，然而這個模型只考慮股價，不考慮財報、月報等，所以比較適合用在大盤，個股可能比較沒辦法。但我還是很想知道日馳是否要崩盤了！？XD</p>
<center><img src="/用數學計算日馳何時崩盤！/thumbnail.png" title="究竟是漲還是跌？"></center>

<h3 id="預防針"><a href="#預防針" class="headerlink" title="預防針"></a>預防針</h3><p>這邊還是要提醒大家，這個只是個有趣的小實驗，但我真的不確定這個很可靠，請不要依賴LPPL買賣股票，可以當作一個參考，追蹤一下日馳的股價是否跟LPPL模型顯示的一樣。我個人是持非常懷疑的態度！請大家不要因為這篇文章來決定要不要買日馳。說不定明天就崩到底給你看XDD。</p>
<h3 id="LPPL"><a href="#LPPL" class="headerlink" title="LPPL"></a>LPPL</h3><p>該<a href="https://www.ricequant.com/community/topic/427/" rel="external nofollow noopener noreferrer" target="_blank">網站</a>都已經寫的滿清楚的，我就不多加贅述，雖然你第一次看可能會不太懂，可以先看以下的補充說明：一些關於model（模型）的觀念：</p>
<p>model就是一個數學模型，由一或多個數學公式組成，可以拿來預測天氣、預測人口成長率、預測各種東西，是個很強大的東西！</p>
<p>LPPL就是一個數學震盪公式：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>(</mo><mi>t</mi><mo>)</mo><mo>=</mo><mi>L</mi><mi>P</mi><mi>P</mi><mi>L</mi><mo>(</mo><mi>t</mi><mo separator="true">,</mo><msup><mi>t</mi><mtext><mi mathvariant="normal">c</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi></mtext></msup><mo separator="true">,</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">y(t) = LPPL(t, t^\text{crash}, x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8991079999999999em;"></span><span class="strut bottom" style="height:1.149108em;vertical-align:-0.25em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit">L</span><span class="mord mathit" style="margin-right:0.13889em;">P</span><span class="mord mathit" style="margin-right:0.13889em;">P</span><span class="mord mathit">L</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:-0.413em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="text mord scriptstyle uncramped"><span class="mord mathrm">c</span><span class="mord mathrm">r</span><span class="mord mathrm">a</span><span class="mord mathrm">s</span><span class="mord mathrm">h</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord mathit">x</span><span class="mclose">)</span></span></span></span></span>
<p>當中的一些變數：</p>
<ol>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>(</mo><mi>t</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">y(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span></span></span></span>：模擬的股價
1. <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.61508em;"></span><span class="strut bottom" style="height:0.61508em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">t</span></span></span></span>：就是指每天的日期</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>t</mi><mtext><mi mathvariant="normal">c</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi></mtext></msup></mrow><annotation encoding="application/x-tex">t^\text{crash}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:0.849108em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="text mord scriptstyle uncramped"><span class="mord mathrm">c</span><span class="mord mathrm">r</span><span class="mord mathrm">a</span><span class="mord mathrm">s</span><span class="mord mathrm">h</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span>：崩盤的日期
3. <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">x</span></span></span></span>：其它一些比較不重要的參數 </li>
</ol>
<p>我們的目標就是調整 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>t</mi><mtext><mi mathvariant="normal">c</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi></mtext></msup></mrow><annotation encoding="application/x-tex">t^\text{crash}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:0.849108em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="text mord scriptstyle uncramped"><span class="mord mathrm">c</span><span class="mord mathrm">r</span><span class="mord mathrm">a</span><span class="mord mathrm">s</span><span class="mord mathrm">h</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">x</span></span></span></span> 的值，讓模擬的股價 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>(</mo><mi>t</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">y(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span></span></span></span> 可以對應到某支股票的實際股價 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>y</mi><mi>m</mi></msup><mo>(</mo><mi>t</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">y^m(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathit">m</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span></span></span></span>，就可以了。通常我們會用以下的方法對應到一個股價：

<span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>min</mi><mrow><msup><mi>t</mi><mtext><mi mathvariant="normal">c</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi></mtext></msup><mo separator="true">,</mo><mi>x</mi></mrow></msub><msup><mrow><mo fence="true">∣</mo><mi>y</mi><mo>(</mo><mi>t</mi><mo>)</mo><mo>−</mo><msup><mi>y</mi><mrow><mi>m</mi></mrow></msup><mo>(</mo><mi>t</mi><mo>)</mo><mo fence="true">∣</mo></mrow><mrow><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\min_{ t^\text{crash}, x}\left|y(t)-y^{m}(t)\right|^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8641079999999999em;"></span><span class="strut bottom" style="height:1.8157359999999998em;vertical-align:-0.9516279999999999em;"></span><span class="base displaystyle textstyle uncramped"><span class="mop op-limits"><span class="vlist"><span style="top:0.7155199999999999em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:-0.289em;margin-right:0.07142857142857144em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="text mord scriptscriptstyle cramped"><span class="mord mathrm">c</span><span class="mord mathrm">r</span><span class="mord mathrm">a</span><span class="mord mathrm">s</span><span class="mord mathrm">h</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mpunct">,</span><span class="mord mathit">x</span></span></span></span><span style="top:2.7755575615628914e-17em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span><span class="mop">min</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="minner"><span class="minner displaystyle textstyle uncramped"><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">∣</span><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mbin">−</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="vlist"><span style="top:-0.413em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">m</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="style-wrap reset-textstyle textstyle uncramped" style="top:0em;">∣</span></span><span class="vlist"><span style="top:-0.413em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">2</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span></span></p>
<p>這個步驟就是調整參數，讓<strong>股價</strong>跟<strong>模型預測的股價</strong>趨近一樣，通常也可以稱為最佳化！<br>於是，我們就有了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>t</mi><mtext><mi mathvariant="normal">c</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">h</mi></mtext></msup></mrow><annotation encoding="application/x-tex">t^\text{crash}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:0.849108em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">t</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="text mord scriptstyle uncramped"><span class="mord mathrm">c</span><span class="mord mathrm">r</span><span class="mord mathrm">a</span><span class="mord mathrm">s</span><span class="mord mathrm">h</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">​</span></span>​</span></span></span></span></span></span> 的值，也就可以預測崩盤的時機了！</p>
<p>接下來可以參考<a href="https://www.ricequant.com/community/topic/427/" rel="external nofollow noopener noreferrer" target="_blank">網站</a>中的介紹，看一下LPPL的預測能力。</p>
<p>以下示範日馳給大家看：</p>
<h3 id="取得日馳股價"><a href="#取得日馳股價" class="headerlink" title="取得日馳股價"></a>取得日馳股價</h3><p>首先我們用 pandas 中的 datareader，取得日馳的股價</p>
<figure class="highlight python"><figcaption><span>取得股價</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pandas_datareader <span class="keyword">import</span> data <span class="comment"># pip install pandas_datareader</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt    <span class="comment"># pip install matplotlib</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd                <span class="comment"># pip install pandas</span></span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">data = data.DataReader(<span class="string">"1526.tw"</span>, <span class="string">"yahoo"</span>, <span class="string">"2017-04-01"</span>,<span class="string">"2018-01-10"</span>)</span><br><span class="line">c = data[<span class="string">'Close'</span>]</span><br><span class="line">c.plot()</span><br></pre></td></tr></table></figure>
<h3 id="最佳化"><a href="#最佳化" class="headerlink" title="最佳化"></a>最佳化</h3><p>接下來，將<a href="https://www.ricequant.com/community/topic/427/" rel="external nofollow noopener noreferrer" target="_blank">網站</a>中的LPPL複製過來，並且將日馳的股價 <code>data.Close</code> assign給 <code>sz</code> 這個變數。</p>
<p>這段code是在計算最佳參數，我沒有仔細閱讀code。有時寫程式就要學會複製貼上，可以用，就好了，對我們來說這不是科學問題，而是工程問題XD。</p>
<figure class="highlight python"><figcaption><span>LPPL模型分析</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> fmin_tnc</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line"></span><br><span class="line">sz = data.Close</span><br><span class="line">date = sz.index</span><br><span class="line">time = np.linspace(<span class="number">0</span>, len(sz)<span class="number">-1</span>, len(sz))</span><br><span class="line">close = np.array(np.log(sz))</span><br><span class="line">DataSeries = [time, close]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lppl</span> <span class="params">(t,x)</span>:</span> <span class="comment">#return fitting result using LPPL parameters </span></span><br><span class="line">    a = x[<span class="number">0</span>]</span><br><span class="line">    b = x[<span class="number">1</span>]</span><br><span class="line">    tc = x[<span class="number">2</span>]</span><br><span class="line">    m = x[<span class="number">3</span>]</span><br><span class="line">    c = x[<span class="number">4</span>]</span><br><span class="line">    w = x[<span class="number">5</span>]</span><br><span class="line">    phi = x[<span class="number">6</span>]</span><br><span class="line">    <span class="keyword">return</span> a + (b*np.power(tc - t, m))*(<span class="number">1</span> + (c*np.cos((w *np.log(tc-t))+phi)))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x)</span>:</span></span><br><span class="line">    delta = [lppl(t,x) <span class="keyword">for</span> t <span class="keyword">in</span> DataSeries[<span class="number">0</span>]]</span><br><span class="line">    delta = np.subtract(delta, DataSeries[<span class="number">1</span>])</span><br><span class="line">    delta = np.power(delta, <span class="number">2</span>) </span><br><span class="line">    <span class="keyword">return</span> np.sum(delta)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Individual</span>:</span></span><br><span class="line">    <span class="string">"""base class for individuals"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span> <span class="params">(self, InitValues)</span>:</span></span><br><span class="line">        self.fit = <span class="number">0</span></span><br><span class="line">        self.cof = InitValues</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fitness</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            cofs, nfeval, rc = fmin_tnc(func, self.cof, fprime=<span class="keyword">None</span>,approx_grad=<span class="keyword">True</span>, messages=<span class="number">0</span>)</span><br><span class="line">            self.fit = func(cofs)</span><br><span class="line">            self.cof = cofs</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="comment">#does not converge </span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mate</span><span class="params">(self, partner)</span>:</span></span><br><span class="line">        reply = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(self.cof)):</span><br><span class="line">            <span class="keyword">if</span> (random.randint(<span class="number">0</span>,<span class="number">1</span>) == <span class="number">1</span>):</span><br><span class="line">                reply.append(self.cof[i])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                reply.append(partner.cof[i])</span><br><span class="line">        <span class="keyword">return</span> Individual(reply)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mutate</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(self.cof)<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> (random.randint(<span class="number">0</span>,len(self.cof)) &lt;= <span class="number">2</span>):</span><br><span class="line">                self.cof[i] += random.choice([<span class="number">-1</span>,<span class="number">1</span>]) * <span class="number">.05</span> * i</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PrintIndividual</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#t, a, b, tc, m, c, w, phi</span></span><br><span class="line">        cofs = <span class="string">"A: "</span> + str(round(self.cof[<span class="number">0</span>], <span class="number">3</span>))</span><br><span class="line">        cofs += <span class="string">"B: "</span> + str(round(self.cof[<span class="number">1</span>],<span class="number">3</span>))</span><br><span class="line">        cofs += <span class="string">"Critical Time: "</span> + str(round(self.cof[<span class="number">2</span>], <span class="number">3</span>))</span><br><span class="line">        cofs += <span class="string">"m: "</span> + str(round(self.cof[<span class="number">3</span>], <span class="number">3</span>))</span><br><span class="line">        cofs += <span class="string">"c: "</span> + str(round(self.cof[<span class="number">4</span>], <span class="number">3</span>))</span><br><span class="line">        cofs += <span class="string">"omega: "</span> + str(round(self.cof[<span class="number">5</span>], <span class="number">3</span>))</span><br><span class="line">        cofs += <span class="string">"phi: "</span> + str(round(self.cof[<span class="number">6</span>], <span class="number">3</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"fitness: "</span> + str(self.fit) +<span class="string">"\n"</span> + cofs</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getDataSeries</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> DataSeries</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getExpData</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> [lppl(t,self.cof) <span class="keyword">for</span> t <span class="keyword">in</span> DataSeries[<span class="number">0</span>]]</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getTradeDate</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> date</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fitFunc</span><span class="params">(t, a, b, tc, m, c, w, phi)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> a - (b*np.power(tc - t, m))*(<span class="number">1</span> + (c*np.cos((w *np.log(tc-t))+phi)))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Population</span>:</span></span><br><span class="line">    <span class="string">"""base class for a population"""</span></span><br><span class="line">    </span><br><span class="line">    LOOP_MAX = <span class="number">1000</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span> <span class="params">(self, limits, size, eliminate, mate, probmutate, vsize)</span>:</span></span><br><span class="line">        <span class="string">'seeds the population'</span></span><br><span class="line">        <span class="string">'limits is a tuple holding the lower and upper limits of the cofs'</span></span><br><span class="line">        <span class="string">'size is the size of the seed population'</span></span><br><span class="line">        self.populous = []</span><br><span class="line">        self.eliminate = eliminate</span><br><span class="line">        self.size = size</span><br><span class="line">        self.mate = mate</span><br><span class="line">        self.probmutate = probmutate</span><br><span class="line">        self.fitness = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(size):</span><br><span class="line">            SeedCofs = [random.uniform(a[<span class="number">0</span>], a[<span class="number">1</span>]) <span class="keyword">for</span> a <span class="keyword">in</span> limits]  </span><br><span class="line">            self.populous.append(Individual(SeedCofs))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PopulationPrint</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> self.populous:</span><br><span class="line">            print(x.cof)</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">SetFitness</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.fitness = [x.fit <span class="keyword">for</span> x <span class="keyword">in</span> self.populous]</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">FitnessStats</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment">#returns an array with high, low, mean</span></span><br><span class="line">        <span class="keyword">return</span> [np.amax(self.fitness), np.amin(self.fitness), np.mean(self.fitness)]</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Fitness</span><span class="params">(self)</span>:</span></span><br><span class="line">        counter = <span class="number">0</span></span><br><span class="line">        false = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> individual <span class="keyword">in</span> list(self.populous):</span><br><span class="line">            print(<span class="string">'Fitness Evaluating: '</span> + str(counter) +  <span class="string">" of "</span> + str(len(self.populous)) + <span class="string">"        \r"</span>),</span><br><span class="line">            state = individual.fitness()</span><br><span class="line">            counter += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> ((state == <span class="keyword">False</span>)):</span><br><span class="line">                false += <span class="number">1</span></span><br><span class="line">                self.populous.remove(individual)</span><br><span class="line">        self.SetFitness()</span><br><span class="line">        print(<span class="string">"\n fitness out size: "</span> + str(len(self.populous)) + <span class="string">" "</span> + str(false))</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Eliminate</span><span class="params">(self)</span>:</span></span><br><span class="line">        a = len(self.populous)</span><br><span class="line">        self.populous.sort(key=<span class="keyword">lambda</span> ind: ind.fit)</span><br><span class="line">        <span class="keyword">while</span> (len(self.populous) &gt; self.size * self.eliminate):</span><br><span class="line">            self.populous.pop()</span><br><span class="line">        print(<span class="string">"Eliminate: "</span> + str(a- len(self.populous)))</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Mate</span><span class="params">(self)</span>:</span></span><br><span class="line">        counter = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> (len(self.populous) &lt;= self.mate * self.size):</span><br><span class="line">            counter += <span class="number">1</span></span><br><span class="line">            i = self.populous[random.randint(<span class="number">0</span>, len(self.populous)<span class="number">-1</span>)]</span><br><span class="line">            j = self.populous[random.randint(<span class="number">0</span>, len(self.populous)<span class="number">-1</span>)]</span><br><span class="line">            diff = abs(i.fit-j.fit)</span><br><span class="line">            <span class="keyword">if</span> (diff &lt; random.uniform(np.amin(self.fitness), np.amax(self.fitness) - np.amin(self.fitness))):</span><br><span class="line">                self.populous.append(i.mate(j))</span><br><span class="line">            <span class="keyword">if</span> (counter &gt; Population.LOOP_MAX):</span><br><span class="line">                print(<span class="string">"loop broken: mate"</span>)</span><br><span class="line">                <span class="keyword">while</span> (len(self.populous) &lt;= self.mate * self.size):</span><br><span class="line">                    i = self.populous[random.randint(<span class="number">0</span>, len(self.populous)<span class="number">-1</span>)]</span><br><span class="line">                    j = self.populous[random.randint(<span class="number">0</span>, len(self.populous)<span class="number">-1</span>)]</span><br><span class="line">                    self.populous.append(i.mate(j))</span><br><span class="line">        print(<span class="string">"Mate Loop complete: "</span> + str(counter))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Mutate</span><span class="params">(self)</span>:</span></span><br><span class="line">        counter = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> ind <span class="keyword">in</span> self.populous:</span><br><span class="line">            <span class="keyword">if</span> (random.uniform(<span class="number">0</span>, <span class="number">1</span>) &lt; self.probmutate):</span><br><span class="line">                ind.mutate()</span><br><span class="line">                ind.fitness()</span><br><span class="line">                counter +=<span class="number">1</span></span><br><span class="line">        print(<span class="string">"Mutate: "</span> + str(counter))</span><br><span class="line">        self.SetFitness()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">BestSolutions</span><span class="params">(self, num)</span>:</span></span><br><span class="line">        reply = []</span><br><span class="line">        self.populous.sort(key=<span class="keyword">lambda</span> ind: ind.fit)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(num):</span><br><span class="line">            reply.append(self.populous[i])</span><br><span class="line">        <span class="keyword">return</span> reply;</span><br><span class="line"></span><br><span class="line">    random.seed()</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line">sns.set_style(<span class="string">'white'</span>)</span><br><span class="line"></span><br><span class="line">limits = ([<span class="number">8.4</span>, <span class="number">8.8</span>], [<span class="number">-1</span>, <span class="number">-0.1</span>], [<span class="number">350</span>, <span class="number">400</span>], [<span class="number">.1</span>,<span class="number">.9</span>], [<span class="number">-1</span>,<span class="number">1</span>], [<span class="number">12</span>,<span class="number">18</span>], [<span class="number">0</span>, <span class="number">2</span>*np.pi])</span><br><span class="line">x = Population(limits, <span class="number">20</span>, <span class="number">0.3</span>, <span class="number">1.5</span>, <span class="number">.05</span>, <span class="number">4</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range (<span class="number">2</span>):</span><br><span class="line">    x.Fitness()</span><br><span class="line">    x.Eliminate()</span><br><span class="line">    x.Mate()</span><br><span class="line">    x.Mutate()</span><br><span class="line">    </span><br><span class="line">x.Fitness() </span><br><span class="line">values = x.BestSolutions(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> values:</span><br><span class="line">    <span class="keyword">print</span> (x.PrintIndividual())</span><br></pre></td></tr></table></figure>
<p>別懷疑，就給它跑下去就對了，我也沒仔細看就跑了，需要跑一段時間。<br>跑完後應該會得到下圖：</p>
<center><img src="/用數學計算日馳何時崩盤！/log.png" title="顯示的結果"></center>

<p>可以看到這段代碼總共做了3次預測，以防算出來不準，其中的 critical time 就是指崩盤日期，約在380天左右，而我們總共測了200天，所以距離今天（2018-01-10），大概還需要 380 - 200 = 180 個交易日，才會有毀滅性的崩盤。</p>
<p>最後畫出圖，我也是複製貼上：</p>
<figure class="highlight python"><figcaption><span>畫圖</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data = pd.DataFrame(&#123;<span class="string">'Date'</span>:values[<span class="number">0</span>].getDataSeries()[<span class="number">0</span>],<span class="string">'Index'</span>:values[<span class="number">0</span>].getDataSeries()[<span class="number">1</span>],<span class="string">'Fit1'</span>:values[<span class="number">0</span>].getExpData(),<span class="string">'Fit2'</span>:values[<span class="number">1</span>].getExpData(),<span class="string">'Fit3'</span>:values[<span class="number">2</span>].getExpData()&#125;)</span><br><span class="line">data = data.set_index(<span class="string">'Date'</span>)</span><br><span class="line">data.plot(figsize=(<span class="number">14</span>,<span class="number">8</span>))</span><br></pre></td></tr></table></figure>
<center><img src="/用數學計算日馳何時崩盤！/fit.png" title="顯示的結果"></center>

<h3 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h3><p>LPPL這個模型看看就好，財報、月報也很重要，依照這個程式的結果，日馳距離泡沫崩盤還要很久，但千萬別因為這樣就買入，畢竟股票有太多要考量的因素了，大戶的脾氣不是數學模型可以模擬的XDDDDDDD…。</p>


            
                <p></p><h3>文章不錯，<b>影音課程</b>更讚：</h3>
                    <div class="uk-child-width-1-2@m" uk-grid="">
                        <div>
                                <a href="https://hahow.in/cr/python-finance" onclick="ga('send', 'event', 'Link', 'Click', 'hahow1' + '用數學計算日馳何時崩盤！');" rel="external nofollow noopener noreferrer" target="_blank">
                                    <img src="https://hahow-production.imgix.net/5b04d8952a1203001e89084d?w=300&auto=format&s=601ebb968917e2f24ca9fbbd5b3fbf6b">
                                    <h3 class="uk-text-center">小資族選股策略（初階）</h3>
                                </a>
                        </div>
                        <div>
                                <a href="https://hahow.in/cr/finlab-ml" onclick="ga('send', 'event', 'Link', 'Click', 'hahow2' + '用數學計算日馳何時崩盤！');" rel="external nofollow noopener noreferrer" target="_blank">
                                    <img src="https://hahow-production.imgix.net/5c8e69c88d1cc80020953710?w=300&auto=format&s=751c391c505726f819943272548b154f">
                                    <h3 class="uk-text-center">人工智慧選股(進階)</h3>
                                </a>
                        </div>
                    </div>
                <br>
                    或我們按個  <span class="fb-like" style="position:relative;top:-5px" data-href="https://www.finlab.tw" data-layout="button" data-action="like" data-size="large" data-show-faces="true" data-share="false"></span>  鼓勵一下吧！
                <p></p>
            
            <div>
                <ul class="popular-posts" style="padding-left:0"><h3 class="article-title">猜你也喜歡：</h3><div><div style="margin-right:20px;background: url('/Python-時間序列實作！/thumbnail.png') no-repeat center;width:40px;height:40px;background-size: auto 100%;border-radius: 20px;float:left"></div><div style="margin-left: 60px;height:50px;line-height:40px;text-align:left;float:clear;overflow:hidden">        <div class="popular-posts-title"><p><a href="/Python-時間序列實作！/" title="Python 時間序列實做！" rel="bookmark">Python 時間序列實做！</a></p></div></div></div><div><div style="margin-right:20px;background: url('/Python-簡單158種技術指標計算/tsmc.png') no-repeat center;width:40px;height:40px;background-size: auto 100%;border-radius: 20px;float:left"></div><div style="margin-left: 60px;height:50px;line-height:40px;text-align:left;float:clear;overflow:hidden">        <div class="popular-posts-title"><p><a href="/Python-簡單158種技術指標計算/" title="Python 簡單158種技術指標計算" rel="bookmark">Python 簡單158種技術指標計算</a></p></div></div></div><div><div style="margin-right:20px;background: url('/Python-簡單用月營收選股！/thumbnail.png') no-repeat center;width:40px;height:40px;background-size: auto 100%;border-radius: 20px;float:left"></div><div style="margin-left: 60px;height:50px;line-height:40px;text-align:left;float:clear;overflow:hidden">        <div class="popular-posts-title"><p><a href="/Python-簡單用月營收選股！/" title="Python-簡單的月營收選股！" rel="bookmark">Python-簡單的月營收選股！</a></p></div></div></div><div><div style="margin-right:20px;background: url('/Python-簡單選股和回測/thumbnail.jpeg') no-repeat center;width:40px;height:40px;background-size: auto 100%;border-radius: 20px;float:left"></div><div style="margin-left: 60px;height:50px;line-height:40px;text-align:left;float:clear;overflow:hidden">        <div class="popular-posts-title"><p><a href="/Python-簡單選股和回測/" title="Python 簡單選股和回測" rel="bookmark">Python 簡單選股和回測</a></p></div></div></div><div><div style="margin-right:20px;background: url('/Python-財報爬蟲-1-綜合損益表/thumbnail.png') no-repeat center;width:40px;height:40px;background-size: auto 100%;border-radius: 20px;float:left"></div><div style="margin-left: 60px;height:50px;line-height:40px;text-align:left;float:clear;overflow:hidden">        <div class="popular-posts-title"><p><a href="/Python-財報爬蟲-1-綜合損益表/" title="Python 財報爬蟲" rel="bookmark">Python 財報爬蟲</a></p></div></div></div></ul>        
            </div>
            <!--<footer class="article-footer">
            </footer>-->
        </div>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>


<script src="/libs/jquery/2.0.3/jquery.min.js"></script>



    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-106968614-1', 'auto');
ga('send', 'pageview');

</script>
    
    




                        </div>
                    </section>
                    <aside id="sidebar" style="background-color:transparent">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>

    <div class="sidebar-top" style="height:26px">
        <p>部落格連結 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="envelope" href="mailto:finlabstaff@gmail.com" target="_blank" rel="external nofollow noopener noreferrer">
                        <i class="icon fa fa-envelope"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="linkedin" href="https://linkedin.com/in/cheng-yu-han-4b845aa2" target="_blank" rel="external nofollow noopener noreferrer">
                        <i class="icon fa fa-linkedin"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="https://www.facebook.com/finlab.tw" target="_blank" rel="external nofollow noopener noreferrer">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>

    
        
<nav id="article-nav">
    
        <a href="/三種月營收進階看法/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">下一篇</strong>
        <p class="article-nav-title">
        
            三種看月營收的進階方法！
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/用python獲取持股損益表/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">上一篇</strong>
        <p class="article-nav-title">自動下單（1）用Python爬取交易記錄</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    

<!-- Begin MailChimp Signup Form -->
<style type="text/css">
    /* MailChimp Form Embed Code - Horizontal Super Slim - 12/16/2015 v10.7
    Adapted from: http://blog.heyimcat.com/universal-signup-form/ */

    #mc_embed_signup form {text-align:center; padding-top: 20px}
    .mc-field-group { display: inline-block; } /* positions input field horizontally */
    #mc_embed_signup input.email {font-family:"Open Sans","Helvetica Neue",Arial,Helvetica,Verdana,sans-serif; font-size: 15px; border: 1px solid rgb(184, 190, 192);  -webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; color: #343434; background-color: #fff; box-sizing:border-box; height:32px; padding: 0px 0.4em; display: inline-block; margin: 0; vertical-align:top;}
    #mc_embed_signup label {display:block; font-size:16px; padding-bottom:10px; font-weight:bold;}
    #mc_embed_signup .clear {display: inline-block;} /* positions button horizontally in line with input */
    #mc_embed_signup .button {font-size: 13px; border: none; -webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; letter-spacing: .03em; color: #fff; background-color: #057391; box-sizing:border-box; height:32px; line-height:32px; padding:0 18px; display: inline-block; margin: 0; transition: all 0.23s ease-in-out 0s;}
    #mc_embed_signup .button:hover {background-color:#777; cursor:pointer;}
    #mc_embed_signup div#mce-responses {float:left; top:-1.4em; padding:0em .5em 0em .5em; overflow:hidden; width:90%;margin: 0 5%; clear: both;}
    #mc_embed_signup div.response {margin:1em 0; padding:1em .5em .5em 0; font-weight:bold; float:left; top:-1.5em; z-index:1; width:80%;}
    #mc_embed_signup #mce-error-response {display:none;}
    #mc_embed_signup #mce-success-response {color:#529214; display:none;}
    #mc_embed_signup label.error {display:block; float:none; width:auto; margin-left:1.05em; text-align:left; padding:.5em 0;}
    @media (max-width: 768px) {
        #mc_embed_signup input.email {width:100%; margin-bottom:5px;}
        #mc_embed_signup .clear {display: block; width: 100% }
        #mc_embed_signup .button {width: 100%; margin:0; }
    }

	#mc_embed_signup{clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}

	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://github.us17.list-manage.com/subscribe/post?u=d8cd009ba8ad9a1188c6e206e&amp;id=a7714d56c6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="">
    <div id="mc_embed_signup_scroll">
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email信箱" style="background:white;color:#333" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d8cd009ba8ad9a1188c6e206e_a7714d56c6" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="立即訂閱" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>



<!--End mc_embed_signup-->    
<!--ad-->



    <div class="widgets-container">

        
            
                
    <!--
    <div class="widget-wrap">
        <form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=Finlab', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
            <h3 class="widget-title">訂閱內容</h3>
            <input class="css-input" placeholder="您的email" type="text" name="email" autocomplete="off"/>
            <input type="hidden" value="Finlab" name="uri"/>
            <input type="hidden" name="loc" value="zh_TW"/>
            <input class="btn" type="submit" value="訂閱" />
        </form>
        <p style="color: gray;text-align: center;margin-top:10px">當新文章發佈時，以email通知您！</p>
    </div>-->
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <div class=" uk-grid uk-grid-small" style="margin-bottom: 10px" uk-grid="">
                        
                        <div class="item-thumbnail uk-width-1-3">
                            <a href="/btc-trading-signal/" class="thumbnail">
    
    
        <div style="background-image:url(/btc-trading-signal/thumbnail.jpeg);width:100%;height:100%;background-size: 100% auto;background-repeat:no-repeat;border-radius:3px" alt="用Python理財(3)：比特幣交易策略訊號實做" class="thumbnail-image"></div>
    
    <!--
    -->
</a>

                        </div>
                        
                        <div class="item-inner uk-width-expand">
                            <!--<p class="item-category"><a class="article-category-link" href="/categories/加密貨幣/">加密貨幣</a></p>-->
                            <p class="item-title" style="font-size:1.1em;"><a href="/btc-trading-signal/" class="title">用Python理財(3)：比特幣交易策略訊號實做
                                <time datetime="2020-04-23T20:20:56.000Z" itemprop="datePublished">2020-04-24</time>

                            </a></p>
                        </div>
                    </div>
                
                    <div class=" uk-grid uk-grid-small" style="margin-bottom: 10px" uk-grid="">
                        
                        <div class="item-thumbnail uk-width-1-3">
                            <a href="/btc-crawler-py/" class="thumbnail">
    
    
        <div style="background-image:url(/btc-crawler-py/thumbnail.png);width:100%;height:100%;background-size: 100% auto;background-repeat:no-repeat;border-radius:3px" alt="用Python理財：比特幣(2)用爬蟲下載歷史數據" class="thumbnail-image"></div>
    
    <!--
    -->
</a>

                        </div>
                        
                        <div class="item-inner uk-width-expand">
                            <!--<p class="item-category"><a class="article-category-link" href="/categories/加密貨幣/">加密貨幣</a></p>-->
                            <p class="item-title" style="font-size:1.1em;"><a href="/btc-crawler-py/" class="title">用Python理財：比特幣(2)用爬蟲下載歷史數據
                                <time datetime="2020-04-22T20:42:33.000Z" itemprop="datePublished">2020-04-23</time>

                            </a></p>
                        </div>
                    </div>
                
                    <div class=" uk-grid uk-grid-small" style="margin-bottom: 10px" uk-grid="">
                        
                        <div class="item-thumbnail uk-width-1-3">
                            <a href="/python-bitcoin-trading-why-bitcoin/" class="thumbnail">
    
    
        <div style="background-image:url(/images/logo_img.png);width:100%;height:100%;background-size: 100% auto;background-repeat:no-repeat;border-radius:3px" alt="用Python理財：比特幣交易自動化(1)" class="thumbnail-image"></div>
    
    <!--
    -->
</a>

                        </div>
                        
                        <div class="item-inner uk-width-expand">
                            <!--<p class="item-category"><a class="article-category-link" href="/categories/加密貨幣/">加密貨幣</a></p>-->
                            <p class="item-title" style="font-size:1.1em;"><a href="/python-bitcoin-trading-why-bitcoin/" class="title">用Python理財：比特幣交易自動化(1)
                                <time datetime="2020-04-20T06:09:14.000Z" itemprop="datePublished">2020-04-20</time>

                            </a></p>
                        </div>
                    </div>
                
                    <div class=" uk-grid uk-grid-small" style="margin-bottom: 10px" uk-grid="">
                        
                        <div class="item-thumbnail uk-width-1-3">
                            <a href="/real-state-best-district-old-buildings-taipei/" class="thumbnail">
    
    
        <div style="background-image:url(/real-state-best-district-old-buildings-taipei/thumbnail.png);width:100%;height:100%;background-size: 100% auto;background-repeat:no-repeat;border-radius:3px" alt="台北最抗跌公寓在哪？ Python 告訴你 (Part 3)" class="thumbnail-image"></div>
    
    <!--
    -->
</a>

                        </div>
                        
                        <div class="item-inner uk-width-expand">
                            <!--<p class="item-category"><a class="article-category-link" href="/categories/實價登入/">實價登入</a></p>-->
                            <p class="item-title" style="font-size:1.1em;"><a href="/real-state-best-district-old-buildings-taipei/" class="title">台北最抗跌公寓在哪？ Python 告訴你 (Part 3)
                                <time datetime="2019-11-28T07:24:28.000Z" itemprop="datePublished">2019-11-28</time>

                            </a></p>
                        </div>
                    </div>
                
                    <div class=" uk-grid uk-grid-small" style="margin-bottom: 10px" uk-grid="">
                        
                        <div class="item-thumbnail uk-width-1-3">
                            <a href="/ml-can-not-predict-price/" class="thumbnail">
    
    
        <div style="background-image:url(/ml-can-not-predict-price/thumbnail.png);width:100%;height:100%;background-size: 100% auto;background-repeat:no-repeat;border-radius:3px" alt="機器學習無法預測股價！" class="thumbnail-image"></div>
    
    <!--
    -->
</a>

                        </div>
                        
                        <div class="item-inner uk-width-expand">
                            <!--<p class="item-category"><a class="article-category-link" href="/categories/AI看股票/">AI看股票</a></p>-->
                            <p class="item-title" style="font-size:1.1em;"><a href="/ml-can-not-predict-price/" class="title">機器學習無法預測股價！
                                <time datetime="2019-11-06T19:57:11.000Z" itemprop="datePublished">2019-11-07</time>

                            </a></p>
                        </div>
                    </div>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">標籤雲</h3>
        <div class="widget tagcloud">
            <a href="/tags/量化投資/" style="font-size: 10px;"> 量化投資</a> <a href="/tags/BTC/" style="font-size: 11.82px;">BTC</a> <a href="/tags/Candlesticks/" style="font-size: 10px;">Candlesticks</a> <a href="/tags/Deep-Learning/" style="font-size: 10px;">Deep-Learning</a> <a href="/tags/EPS/" style="font-size: 10px;">EPS</a> <a href="/tags/KD/" style="font-size: 10.91px;">KD</a> <a href="/tags/K棒/" style="font-size: 10px;">K棒</a> <a href="/tags/K線圖/" style="font-size: 10px;">K線圖</a> <a href="/tags/LSTM/" style="font-size: 10px;">LSTM</a> <a href="/tags/Machine-Learning/" style="font-size: 16.36px;">Machine Learning</a> <a href="/tags/PEG/" style="font-size: 10px;">PEG</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/ROE/" style="font-size: 11.82px;">ROE</a> <a href="/tags/RSI/" style="font-size: 10px;">RSI</a> <a href="/tags/dataframe/" style="font-size: 10px;">dataframe</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/一行/" style="font-size: 10px;">一行</a> <a href="/tags/個人優化/" style="font-size: 10.91px;">個人優化</a> <a href="/tags/價值股/" style="font-size: 10px;">價值股</a> <a href="/tags/入門教學/" style="font-size: 14.55px;">入門教學</a> <a href="/tags/分佈圖/" style="font-size: 10px;">分佈圖</a> <a href="/tags/型態學/" style="font-size: 10.91px;">型態學</a> <a href="/tags/外資/" style="font-size: 11.82px;">外資</a> <a href="/tags/大盤/" style="font-size: 13.64px;">大盤</a> <a href="/tags/大跌/" style="font-size: 10px;">大跌</a> <a href="/tags/如何投資/" style="font-size: 10px;">如何投資</a> <a href="/tags/如何買股票/" style="font-size: 19.09px;">如何買股票</a> <a href="/tags/市值營收比/" style="font-size: 10.91px;">市值營收比</a> <a href="/tags/房地產/" style="font-size: 11.82px;">房地產</a> <a href="/tags/技術指標/" style="font-size: 11.82px;">技術指標</a> <a href="/tags/投信/" style="font-size: 10px;">投信</a> <a href="/tags/投資/" style="font-size: 10px;">投資</a> <a href="/tags/指標/" style="font-size: 13.64px;">指標</a> <a href="/tags/時間管理/" style="font-size: 10px;">時間管理</a> <a href="/tags/月營收/" style="font-size: 12.73px;">月營收</a> <a href="/tags/本益成長比/" style="font-size: 10px;">本益成長比</a> <a href="/tags/本益比/" style="font-size: 14.55px;">本益比</a> <a href="/tags/杜邦分析/" style="font-size: 13.64px;">杜邦分析</a> <a href="/tags/機器學習/" style="font-size: 17.27px;">機器學習</a> <a href="/tags/歷史回測/" style="font-size: 19.09px;">歷史回測</a> <a href="/tags/每股盈餘/" style="font-size: 10px;">每股盈餘</a> <a href="/tags/比特幣/" style="font-size: 11.82px;">比特幣</a> <a href="/tags/深度學習/" style="font-size: 10px;">深度學習</a> <a href="/tags/爬蟲/" style="font-size: 14.55px;">爬蟲</a> <a href="/tags/生活/" style="font-size: 10.91px;">生活</a> <a href="/tags/生產力/" style="font-size: 10.91px;">生產力</a> <a href="/tags/程式交易/" style="font-size: 20px;">程式交易</a> <a href="/tags/策略狗/" style="font-size: 11.82px;">策略狗</a> <a href="/tags/簡易策略/" style="font-size: 15.45px;">簡易策略</a> <a href="/tags/統計/" style="font-size: 10px;">統計</a> <a href="/tags/總資產轉換率/" style="font-size: 10px;">總資產轉換率</a> <a href="/tags/美股/" style="font-size: 10px;">美股</a> <a href="/tags/股價淨值比/" style="font-size: 14.55px;">股價淨值比</a> <a href="/tags/股價預測/" style="font-size: 10px;">股價預測</a> <a href="/tags/股票/" style="font-size: 10px;">股票</a> <a href="/tags/股票分析/" style="font-size: 10px;">股票分析</a> <a href="/tags/自由現金報酬率/" style="font-size: 11.82px;">自由現金報酬率</a> <a href="/tags/財經Python教學/" style="font-size: 10px;">財經Python教學</a> <a href="/tags/資料分析/" style="font-size: 10px;">資料分析</a> <a href="/tags/選股/" style="font-size: 16.36px;">選股</a> <a href="/tags/選股策略/" style="font-size: 18.18px;">選股策略</a> <a href="/tags/量化投資/" style="font-size: 14.55px;">量化投資</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">連結</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://white5168.blogspot.fr/" rel="external nofollow noopener noreferrer" target="_blank">iInfo資訊交流</a>
                    </li>
                
                    <li>
                        <a href="https://stasistw.blogspot.fr" rel="external nofollow noopener noreferrer" target="_blank">市場求生手冊</a>
                    </li>
                
                    <li>
                        <a href="http://investarter.blogspot.fr" rel="external nofollow noopener noreferrer" target="_blank">阿升理財筆記</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
<!--
        <div style="width:100%;text-align:center;margin-top:20px;height:250px">
            <ins class="clickforceads " style="display:inline-block;" data-ad-zone-max=7696 data-ad-zone-min=7699 data-ad-width-max=300 data-ad-height-max=250 data-ad-width-min=300 data-ad-height-min=250 data-ad-changeMinWidth=1024></ins>
            <script type="text/javascript" src="//cdn.doublemax.net/js/rwd_cap.js"></script>
        </div>
-->
<!--
        <div style="margin: 30px">
            <div style="background-color:rgb(65, 62, 55);text-align:center;height:50px;line-height: 50px">
                    <h3 style="font-size: 16px;color: yellow">按讚～不錯過最新文章！</h3>
            </div>
            
            <div class="fb-page" 
                data-href="https://www.facebook.com/finlab.tw"
                data-width="380" 
                data-hide-cover="false"
                data-show-facepile="false">
            </div>
        </div>
    -->
    
        <div style="padding:30px" id="moving">
            <h2 class="uk-text-large">影音課程:</h2>
            <div class="sticky">
                    <a href="https://hahow.in/cr/python-finance" onclick="ga('send', 'event', 'Link', 'Click', 'hahow1Sidebar');" rel="external nofollow noopener noreferrer" target="_blank">
                        <img src="https://hahow-production.imgix.net/5b04d8952a1203001e89084d?w=300&auto=format&s=601ebb968917e2f24ca9fbbd5b3fbf6b">
                        <h3 class="uk-text-center">小資族選股策略(初階）</h3>
                    </a>
            <br>
            <a href="https://hahow.in/cr/finlab-ml" onclick="ga('send', 'event', 'Link', 'Click', 'hahow2Sidebar');" rel="external nofollow noopener noreferrer" target="_blank">
                <img src="https://hahow-production.imgix.net/5c8e69c88d1cc80020953710?w=300&auto=format&s=751c391c505726f819943272548b154f">
                <h3 class="uk-text-center">人工智慧選股(進階) </h3>
            </a>
            </div>
        </div>
        <script>
/*
            $( document ).ready(function() {
            console.log( "document ready!" );

            if ($(window).width() < 600){
                return
            }

            var $sticky = $('.sticky');
            var $stickyrStopper = $('.sticky-stopper');
            var width_m = $('#moving').width()
            if (!!$sticky.offset()) { // make sure ".sticky" element exists

                var generalSidebarHeight = $sticky.innerHeight();
                var stickyTop = $sticky.offset().top;
                var stickOffset = 200;
                var stickyStopperPosition = $stickyrStopper.offset().top;
                var stopPoint = stickyStopperPosition - generalSidebarHeight - stickOffset;
                var diff = stopPoint + stickOffset;

                $(window).scroll(function(){ // scroll event
                    var windowTop = $(window).scrollTop(); // returns number
                    var stickyStopperPosition = $stickyrStopper.offset().top;

                    var stopPoint = stickyStopperPosition - generalSidebarHeight - stickOffset;
                    var diff = stopPoint + stickOffset;

                    if (stopPoint < windowTop) {
                        $sticky.css({ position: 'absolute', top: diff, width: width_m, height: width_m * 9 / 16 });
                    } else if (stickyTop < windowTop+stickOffset) {
                        $sticky.css({ position: 'fixed', top: stickOffset, width: width_m, height: width_m * 9 / 16 });
                    } else {
                        $sticky.css({position: 'absolute', top: 'initial', width: width_m, height: width_m * 9 / 16 });
                    }
                });

            }
            });
*/
        </script>
    </div>
</aside>
<style>
::placeholder {
  color: #aaa;
}
</style>
                </div>
            </div>
        </div>
        <footer id="footer" class="sticky-stopper">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h2 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h2>
                <p>&copy; 2020 koreal6803</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
                <p>此部落格所有股票分析皆為統計結果，然而過去績效並不等於未來績效，投資本來就有賺有賠，請投資人自行斟酌參考喔！</p>
            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'koreal6803';
    
    
    var disqus_url = 'https://www.finlab.tw/用數學計算日馳何時崩盤！/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.23/js/uikit.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.23/js/uikit-icons.min.js"></script>
    </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>

